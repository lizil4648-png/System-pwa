<!DOCTYPE html><html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RPG –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f0f2f5;
      color: #333;
    }
    header {
      background: #4a90e2;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    main {
      padding: 1rem;
      max-width: 900px;
      margin: auto;
    }
    section {
      background: white;
      margin-bottom: 1rem;
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    h2 {
      margin-top: 0;
    }
    .task {
      display: flex;
      align-items: center;
      margin-bottom: 0.5rem;
    }
    .task input {
      margin-right: 0.5rem;
    }
    .calendar-day {
      display: inline-block;
      width: 30px;
      height: 30px;
      margin: 2px;
      text-align: center;
      line-height: 30px;
      border-radius: 6px;
      font-size: 0.8rem;
    }
    .red { background: #ff6b6b; color: white; }
    .yellow { background: #ffd93d; color: black; }
    .green { background: #6bcf63; color: white; }
    button {
      background: #4a90e2;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #357ABD;
    }
    #system { display: none; }
    #login {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    #error {
      color: red;
      margin-top: 10px;
    }
    nav {
      display: flex;
      justify-content: center;
      margin-bottom: 1rem;
    }
    nav button {
      margin: 0 5px;
    }
  </style>
</head>
<body>
  <div id="login">
    <h2>–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</h2>
    <input type="password" id="password">
    <button onclick="checkPassword()">–í–æ–π—Ç–∏</button>
    <div id="error"></div>
  </div>  <div id="system">
    <header>
      <h1>üìñ RPG –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫</h1>
    </header>
    <main>
      <nav>
        <button onclick="showTab('daily-tasks')">–ó–∞–¥–∞–Ω–∏—è</button>
        <button onclick="showTab('missed-prayers')">–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –Ω–∞–º–∞–∑—ã</button>
        <button onclick="showTab('skills')">–ù–∞–≤—ã–∫–∏</button>
        <button onclick="showTab('calendar')">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
      </nav><section id="daily-tasks" class="tab">
    <h2>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</h2>
    <div class="task"><input type="checkbox" data-xp="0.5"> –§–∞–¥–∂—Ä</div>
    <div class="task"><input type="checkbox" data-xp="0.5"> –ó—É—Ö—Ä</div>
    <div class="task"><input type="checkbox" data-xp="0.5"> –ê—Å—Ä</div>
    <div class="task"><input type="checkbox" data-xp="0.5"> –ú–∞–≥—Ä–∏–±</div>
    <div class="task"><input type="checkbox" data-xp="0.5"> –ò—à–∞</div>
    <div class="task"><input type="checkbox" data-xp="0.5"> 15-–º–∏–Ω—É—Ç–Ω–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</div>
    <div class="task"><input type="checkbox" data-xp="0.5"> –î–æ–ø. –∑–∞–¥–∞–Ω–∏–µ (–Ω–∞–≤—ã–∫)</div>
    <div class="task"><input type="checkbox" data-xp="0.5"> –î–æ–ø. –∑–∞–¥–∞–Ω–∏–µ (–Ω–∞–≤—ã–∫)</div>
  </section>

  <section id="missed-prayers" class="tab" style="display:none;">
    <h2>–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –Ω–∞–º–∞–∑—ã</h2>
    <p>–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π: <span id="missed-count">0</span></p>
    <div class="task"><input type="checkbox" class="missed"> –§–∞–¥–∂—Ä</div>
    <div class="task"><input type="checkbox" class="missed"> –ó—É—Ö—Ä</div>
    <div class="task"><input type="checkbox" class="missed"> –ê—Å—Ä</div>
    <div class="task"><input type="checkbox" class="missed"> –ú–∞–≥—Ä–∏–±</div>
    <div class="task"><input type="checkbox" class="missed"> –ò—à–∞</div>
    <button onclick="completeMissedDay()">–ó–∞–∫—Ä—ã—Ç—å –¥–µ–Ω—å</button>
  </section>

  <section id="skills" class="tab" style="display:none;">
    <h2>–ù–∞–≤—ã–∫–∏</h2>
    <p>–ù–∞–≤—ã–∫–∏ 1-–≥–æ –ø–æ–ª—É–≥–æ–¥–∏—è:</p>
    <ul>
      <li>üìò –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</li>
      <li>üñåÔ∏è –†–∏—Å–æ–≤–∞–Ω–∏–µ</li>
      <li>ü§∏‚Äç‚ôÄÔ∏è –ì–∏–±–∫–æ—Å—Ç—å</li>
      <li>üíé –ò–∑—è—â–Ω–æ—Å—Ç—å</li>
      <li>üìä –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å</li>
      <li>üéØ –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞</li>
    </ul>
  </section>

  <section id="calendar" class="tab" style="display:none;">
    <h2>–ö–∞–ª–µ–Ω–¥–∞—Ä—å</h2>
    <button onclick="toggleView()">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –º–µ—Å—è—Ü/–≥–æ–¥</button>
    <div id="calendar-grid"></div>
  </section>
</main>

  </div>  <script>
    // ===== –í—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é =====
    function checkPassword() {
      const pass = document.getElementById("password").value;
      if (pass === "1234") {
        document.getElementById("login").style.display = "none";
        document.getElementById("system").style.display = "block";
      } else {
        document.getElementById("error").textContent = "–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å";
      }
    }

    function showTab(id) {
      document.querySelectorAll(".tab").forEach(tab => tab.style.display = "none");
      document.getElementById(id).style.display = "block";
    }

    // ===== –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ =====
    const storageKey = "rpg_planner";
    let data = JSON.parse(localStorage.getItem(storageKey)) || {
      missedCount: 0,
      tasks: {},
    };

    document.querySelectorAll("#daily-tasks input").forEach((checkbox, i) => {
      checkbox.checked = data.tasks[i] || false;
      checkbox.addEventListener("change", () => {
        data.tasks[i] = checkbox.checked;
        saveData();
      });
    });

    document.getElementById("missed-count").textContent = data.missedCount;

    function completeMissedDay() {
      const checkboxes = document.querySelectorAll("#missed-prayers .missed");
      const allChecked = Array.from(checkboxes).every(cb => cb.checked);
      if (allChecked && data.missedCount > 0) {
        data.missedCount--;
        document.getElementById("missed-count").textContent = data.missedCount;
        checkboxes.forEach(cb => cb.checked = false);
        saveData();
      } else {
        alert("–û—Ç–º–µ—Ç—å –≤—Å–µ 5 –Ω–∞–º–∞–∑–æ–≤, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å –¥–µ–Ω—å!");
      }
    }

    // ===== –ö–∞–ª–µ–Ω–¥–∞—Ä—å =====
    let monthView = true;
    function toggleView() {
      monthView = !monthView;
      renderCalendar();
    }

    function renderCalendar() {
      const grid = document.getElementById("calendar-grid");
      grid.innerHTML = "";
      const days = monthView ? 30 : 365;
      for (let i = 1; i <= days; i++) {
        let el = document.createElement("div");
        el.className = "calendar-day red";
        el.textContent = i;
        grid.appendChild(el);
      }
    }
    renderCalendar();

    function saveData() {
      localStorage.setItem(storageKey, JSON.stringify(data));
    }
  </script></body>
</html>
