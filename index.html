<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>–°–∏—Å—Ç–µ–º–∞</title>

  <!-- PWA –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#00bfff">

  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app">
    <!-- üîπ –õ–æ–≥–æ—Ç–∏–ø -->
    <img src="images/arise.png" alt="Arise logo" class="logo">

    <h1 class="glow">–°–ò–°–¢–ï–ú–ê</h1>
    <nav>
      <button onclick="showScreen('stats')">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
      <button onclick="showScreen('skills')">–ù–∞–≤—ã–∫–∏</button>
      <button onclick="showScreen('quests')">–ó–∞–¥–∞–Ω–∏—è</button>
    </nav>

    <main>
      <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
      <section id="stats" class="screen active">
        <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
        <ul id="stats-list">
          <li>–°–∏–ª–∞: <span id="stat-strength">10</span></li>
          <li>–õ–æ–≤–∫–æ—Å—Ç—å: <span id="stat-agility">10</span></li>
          <li>–ñ–∏–≤—É—á–µ—Å—Ç—å: <span id="stat-vitality">10</span></li>
          <li>–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç: <span id="stat-intelligence">10</span></li>
        </ul>
      </section>

      <!-- –≠–∫—Ä–∞–Ω –Ω–∞–≤—ã–∫–æ–≤ -->
      <section id="skills" class="page hidden">
  <h2 class="title">–ù–∞–≤—ã–∫–∏</h2>

  <!-- –°–ø–∏—Å–æ–∫ –Ω–∞–≤—ã–∫–æ–≤ -->
  <ul id="skills-list" class="skill-list"></ul>

  <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –Ω–∞–≤—ã–∫–∞ -->
  <div class="add-skill">
    <input type="text" id="new-skill" placeholder="–î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤—ã–∫">
    <button onclick="addSkill()">–î–æ–±–∞–≤–∏—Ç—å</button>
  </div>
</section>

<script>
  let skills = JSON.parse(localStorage.getItem("skills")) || [];
  let timers = {}; // —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–≤—ã–∫–∞

  function renderSkills() {
    const list = document.getElementById("skills-list");
    list.innerHTML = "";
    skills.forEach((skill, index) => {
      let active = skill.startTime ? "‚è± –ò–¥—ë—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞..." : "";
      list.innerHTML += `
        <li class="skill-item">
          <b>${skill.name}</b> | XP: ${skill.xp} 
          <span id="timer-${index}">${active}</span><br>
          <button onclick="startTimer(${index})">–°—Ç–∞—Ä—Ç</button>
          <button onclick="stopTimer(${index})">–°—Ç–æ–ø</button>
        </li>
      `;
    });
  }

  function addSkill() {
    const input = document.getElementById("new-skill");
    if (input.value.trim() !== "") {
      skills.push({ name: input.value, xp: 0, startTime: null });
      input.value = "";
      saveSkills();
      renderSkills();
    }
  }

  function startTimer(i) {
    if (skills[i].startTime) return; // —É–∂–µ –∏–¥—ë—Ç
    skills[i].startTime = Date.now();
    saveSkills();
    renderSkills();

    timers[i] = setInterval(() => {
      let diff = Math.floor((Date.now() - skills[i].startTime) / 1000);
      document.getElementById(`timer-${i}`).textContent =
        `‚è± ${Math.floor(diff / 60)}–º ${diff % 60}—Å`;
    }, 1000);
  }

  function stopTimer(i) {
    if (skills[i].startTime) {
      let diff = Math.floor((Date.now() - skills[i].startTime) / 1000); // –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
      let xpEarned = Math.max(1, Math.floor(diff / 60)); // –º–∏–Ω–∏–º—É–º 1 XP
      skills[i].xp += xpEarned;
      skills[i].startTime = null;
      clearInterval(timers[i]);
      saveSkills();
      renderSkills();
    }
  }

  function saveSkills() {
    localStorage.setItem("skills", JSON.stringify(skills));
  }

  renderSkills();
</script>

<style>
  #skills {
    text-align: center;
    padding: 20px;
  }
  .skill-list {
    list-style: none;
    padding: 0;
  }
  .skill-item {
    margin: 15px 0;
    padding: 10px;
    border: 1px solid #444;
    border-radius: 10px;
    background: rgba(255,255,255,0.05);
  }
  .add-skill {
    margin-top: 15px;
  }
  .add-skill input {
    padding: 5px;
  }
  .add-skill button {
    margin-left: 5px;
  }
</style>
        <h2>–ù–∞–≤—ã–∫–∏</h2>
        <ul id="skills-list">
          <li>–ü—É—Å—Ç–æ... –ø–æ–∫–∞</li>
        </ul>
      </section>

      <!-- –≠–∫—Ä–∞–Ω –∑–∞–¥–∞–Ω–∏–π -->
      <section id="quests" class="screen">
        <h2>–ó–∞–¥–∞–Ω–∏—è</h2>
        <ul id="quests-list">
          <li>
            –°–¥–µ–ª–∞—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ‚Äî
            <button onclick="completeQuest('strength')">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
          </li>
          <li>
            –ü—Ä–æ—á–∏—Ç–∞—Ç—å 5 —Å—Ç—Ä–∞–Ω–∏—Ü ‚Äî
            <button onclick="completeQuest('intelligence')">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
          </li>
        </ul>
      </section>
    </main>
  </div>

  <!-- –°–∫—Ä–∏–ø—Ç -->
  <script src="app.js"></script>
</body>
</html>
